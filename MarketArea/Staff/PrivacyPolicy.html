<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Barangay Market Area: E-Blotter System</title>
  <link rel="stylesheet" href="../Resident/privpolicy.css">
  <link rel="icon" type="image/png" href="logo.png">

<style>
    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
    }

    /* Header */
    header {
      position: sticky;
      top: 0;
      background-color: #2e3b0d;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 30px;
      z-index: 1000;
    }

    header img {
      height: 60px;
      margin-right: 10px;
    }

    header nav {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    header nav a {
      color: white;
      text-decoration: none;
      cursor: pointer;
    }

    .profile-container {
      position: relative;
    }

    .profile-circle {
      background: #ccc;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      cursor: pointer;
    }

    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 40px;
      background-color: white;
      color: black;
      min-width: 170px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 10;
      border-radius: 4px;
    }

    .dropdown-menu a {
      color: black;
      padding: 10px;
      display: flex;
      align-items: center;
      text-decoration: none;
      gap: 10px;
    }

    .dropdown-menu a:hover {
      background-color: #f1f1f1;
    }

    .dropdown-menu a img {
      width: 20px;
      height: 20px;
    }

    /* Banner */
    .main-banner {
      position: relative;
      height: 90vh;
      text-align: center;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .main-banner::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background: url('files/marketareabg.jpg') no-repeat center center/cover;
      z-index: 0;
    }

    .main-banner::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1;
    }

    .main-banner h1,
    .main-banner p,
    .stats {
      position: relative;
      z-index: 2;
    }

    .main-banner h1 {
      font-size: 3rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .main-banner p {
      font-size: 1.1rem;
      margin: 0 0 30px;
    }

    .stats {
      display: flex;
      gap: 30px;
      margin-top: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .stat-box {
      background-color: #6d8129;
      padding: 20px 30px;
      border-radius: 10px;
      color: white;
      width: 180px;
      text-align: center;
      box-shadow: -2px 4px 5px rgba(0, 0, 0, 0.5);
      transition: all 0.3s ease;
      cursor: pointer;
      text-decoration: none;
    }

    .stat-box:hover {
      background-color: #7e9431;
      transform: scale(1.05);
      box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.4);
    }

    .stat-box .icon img {
      height: 40px;
      margin-bottom: 10px;
      filter: drop-shadow(-2px 2px 2px rgba(0, 0, 0, 0.4));
    }

    .stat-box h3 {
      margin: 10px 0 5px;
      font-size: 1.1rem;
    }

    .stat-box .count {
      font-size: 1.5rem;
      font-weight: bold;
    }

    /* Footer */
    footer {
      background-color: #333;
      color: white;
      display: flex;
      justify-content: space-between;
      padding: 13px 30px;
      font-size: 0.9rem;
      flex-wrap: wrap;
    }

    footer .leftside {
      display: flex;
      flex-direction: row;
      align-items: center;
      max-width: 500px;
      margin-top: 10px;
    }
    
    footer img {
      margin-right: 25px;
      margin-left: 10px;
      height: 100px;
    }

    footer .footer-section2 {
      max-width: 200px;
      margin-right: 100px;
    }
    
    footer h4 {
      margin-bottom: 10px;
    }

    footer ul {
      list-style: none;
      padding: 0;
    }

    footer ul li {
      margin-bottom: 8px;
    }

    footer ul li a {
      color: white;
      text-decoration: none;
    }

    /* === NOTIFICATION POPUP === */
    .notification-popup {
      position: fixed;
      top: 80px;
      right: 30px;
      width: 320px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 999;
      display: none;
      flex-direction: column;
      max-height: 400px;
      overflow-y: auto;
    }

    .notification-popup .popup-header {
      background: #2e3b0d;
      color: white;
      padding: 12px 16px;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .notification-popup .popup-header span {
      cursor: pointer;
      font-size: 18px;
    }

    .notification-popup .popup-section {
      padding: 10px 16px;
    }

    .notification-popup .popup-section h5 {
      margin: 10px 0 5px;
      font-size: 14px;
      color: #888;
    }

    .notification-popup .notif-item {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      font-size: 14px;
      cursor: pointer;
      color: #2e3b0d;
    }

    .notification-popup .notif-item:last-child {
      border-bottom: none;
    }

    .notification-popup .notif-item:hover {
      background-color: #f8f8f8;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.6);
      margin-top: 50px;
    }

    .modal-content {
      background-color: #fff;
      margin: 5% auto;
      padding: 0;
      border-radius: 10px;
      width: 80%;
      max-width: 600px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      box-sizing: border-box;
    }

    .modal-scrollable {
        padding: 5px 20px;
        max-height: 70vh;
        overflow-y: auto;
        overflow-x: hidden;
        position: relative;
    }

    .modal-scrollable h2 {
      text-align: center;
      color: #4B5320;
      margin-top: 0px;
    }

    .modal-scrollable h3 {
      color: #BF8C00;
      margin-top: 1em;
    }

    .close {
        display: block;
        text-align: right;
        margin-right: 10px; /* 🟢 moves it to the left of the scrollbar */
        margin-top: 0px;
        font-size: 24px;
        font-weight: bold;
        color: #aaa;
        cursor: pointer;
    }

    .close:hover {
        color: black;
    }


    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }    

.container {
  max-width: 1200px;
  margin: 0 auto; /* centers it */
  padding: 20px;
  background-color: #f9f9f9;
  border-radius: 10px;
}

  </style>
</head>

<body>
  <header>
    <div style="display: flex; align-items: center;">
      <img src="files/logo.png" alt="Barangay Logo">
      <div style="margin-left: 10px;">
        <div><strong>Barangay Market Area:</strong></div>
        <div>Complaint System</div>
      </div>
    </div>

    <nav>
      <a href="staffHomepage.html" onclick="scrollToTop(event)">Home</a>
      <a href="manageComplaints.html">Manage Complaints</a>
      <a href="quickMetric.html">Quick Metrics</a>
      <div class="profile-container">
        <div class="profile-circle" onclick="toggleDropdown()"></div>
        <div class="dropdown-menu" id="dropdownMenu">
          <a href="staffProf.html"><img src="files/profile.png">Profile</a>
          <a href="#" onclick="openNotifFromDropdown(event)"><img src="files/notif.png">Notifications</a>
          <a href="settings.html"><img src="files/settings.png">Settings</a>
          <a href="staffLogin.html"><img src="files/logout.png">Logout</a>

        </div>
      </div>
    </nav>
  </header>


<div class="policy-container">
<h2 style="text-align: center;">Privacy Policy</h2>
    <p>
      The Barangay E-Blotter System is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your personal information when you use our system.
    </p>
    <h3>Information We Collect</h3>
    <ul>
      <li>Personal details you provide when filing a complaint (e.g., name, address, contact number, etc.).</li>
      <li>Details of your complaint and any supporting evidence you upload.</li>
      <li>Technical information such as your IP address, browser type, and access times.</li>
    </ul>
    <h3>How We Use Your Information</h3>
    <ul>
      <li>To process and resolve complaints submitted through the system.</li>
      <li>To communicate with you regarding your complaint or inquiry.</li>
      <li>To improve our services and ensure system security.</li>
      <li>To comply with legal obligations and government regulations.</li>
    </ul>
    <h3>Information Sharing</h3>
    <p>
      We do not share your personal information with third parties except as required by law or with your explicit consent. Your information is kept confidential and is only accessible to authorized barangay personnel.
    </p>
    <h3>Data Security</h3>
    <p>
      We implement appropriate security measures to protect your data from unauthorized access, alteration, or disclosure.
    </p>
    <h3>Your Rights</h3>
    <ul>
      <li>You may request access to your personal information.</li>
      <li>You may request correction or deletion of your data, subject to legal requirements.</li>
      <li>You may contact us for any privacy-related concerns.</li>
    </ul>
    <h3>Contact Us</h3>
    <p>
      If you have questions or concerns about this Privacy Policy, please contact the Barangay Office at (012) 345-6789 or email <a href="mailto:barangayeblotter@email.com">barangayeblotter@email.com</a>.
    </p>
    <a href="javascript:window.history.back();" class="back-link">← Back</a>
  </div>
  </section>
  

   <footer>
    <div class="leftside">
      <img src="files/logo.png" />
      <p>
        The Market Area of Sta. Rosa, Laguna is a bustling center of commerce and community activity. 
        Known for its public market, transport terminals, and small businesses, it serves as a vital hub for daily 
        essentials, local trade, and public services—connecting residents from different barangays across the city.
      </p>
    </div>
    <div class="footer-section2">
      <h4>Quick Menu</h4>
      <ul>
        <li><a href="staffHomepage.html" onclick="scrollToTop(event)">Home</a></li>
        <li><a href="manageComplaints.html">Manage Complaints</a></li>
        <li><a href="quickMetric.html">Quick Metrics</a></li>
      </ul>
    </div>
  </footer>

  <!-- === NOTIFICATION POPUP START === -->
  <div id="notifPopup" class="notification-popup">
    <div class="popup-header">
      Notifications
      <span onclick="closeNotifPopup()">×</span>
    </div>
    <div class="popup-section">
      <h5>Today</h5>
      <div class="notif-item" onclick="alert('Go to complaint #001')">Juan dela Cruz submitted a noise complaint.</div>
      <div class="notif-item" onclick="alert('Go to resolved complaint #002')">A case was marked as resolved.</div>
    </div>
    <div class="popup-section">
      <h5>This Week</h5>
      <div class="notif-item" onclick="alert('Go to garbage complaint #003')">Garbage issue updated by staff.</div>
      <div class="notif-item" onclick="alert('Go to water complaint #004')">Water leak concern reopened.</div>
    </div>
  </div>
  <!-- === NOTIFICATION POPUP END === -->


  <!-- === TERMS AND CONDITION ===-->

  <div id="termsModal" class="modal">
    <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
      <div class="modal-scrollable">
        <h2>Terms and Conditions</h2>
        <p>Welcome to the Barangay E-Blotter System. By accessing or using this system, you agree to comply with and be bound by the following terms and conditions. Please read them carefully.</p>

        <h3>1. Use of the System</h3>
        <ul>
          <li>The E-Blotter System is intended for residents to file and track complaints within the barangay.</li>
          <li>You must provide accurate and complete information when submitting a complaint.</li>
          <li>Misuse of the system, including submitting false or malicious complaints, is strictly prohibited.</li>
        </ul>

        <h3>2. Privacy and Confidentiality</h3>
        <ul>
          <li>All personal information submitted will be kept confidential and used only for resolving complaints.</li>
          <li>Only authorized barangay personnel have access to complaint details.</li>
        </ul>

        <h3>3. User Responsibilities</h3>
        <ul>
          <li>You are responsible for the accuracy of the information you provide.</li>
          <li>You must not use the system for unlawful purposes or to harass others.</li>
        </ul>

        <h3>4. System Availability</h3>
        <ul>
          <li>The barangay strives to keep the system available at all times but does not guarantee uninterrupted access.</li>
          <li>Maintenance or technical issues may cause temporary downtime.</li>
        </ul>

        <h3>5. Changes to Terms</h3>
        <ul>
          <li>The barangay reserves the right to update these terms at any time. Changes will be posted on this page.</li>
        </ul>

        <h3>6. Contact</h3>
        <p>For questions or concerns, contact the Barangay Office at (012) 345-6789 or email <a href="mailto:barangayeblotter@email.com">barangayeblotter@email.com</a>.</p>
      </div>
    </div>
  </div>
  
  <script>
    // ==========================
    // NOTIFICATION FUNCTIONALITY
    // ==========================

    // NEW: Load notifications from localStorage and inject into popup
    function loadNotifications() {
      const notifPopup = document.getElementById('notifPopup');
      const popupSections = notifPopup.querySelectorAll('.popup-section');

      // Clear existing notification items
      popupSections.forEach(section => section.innerHTML = '');

      const complaints = JSON.parse(localStorage.getItem('submittedComplaints')) || [];

      const today = new Date().toISOString().split('T')[0];

      // Create containers
      const todaySection = document.createElement('div');
      todaySection.className = 'popup-section';
      const weekSection = document.createElement('div');
      weekSection.className = 'popup-section';

      const todayHeader = document.createElement('h5');
      todayHeader.textContent = 'Today';
      todaySection.appendChild(todayHeader);

      const weekHeader = document.createElement('h5');
      weekHeader.textContent = 'This Week';
      weekSection.appendChild(weekHeader);

      complaints.forEach((complaint, index) => {
        const notifItem = document.createElement('div');
        notifItem.className = 'notif-item';
        notifItem.textContent = `${complaint.name} submitted a ${complaint.category.toLowerCase()} complaint.`;
        notifItem.onclick = () => {
          localStorage.setItem('selectedComplaintIndex', index); // Optional
          window.location.href = 'complaintApprovalAction.html';
        };

        if (complaint.date === today) {
          todaySection.appendChild(notifItem);
        } else {
          weekSection.appendChild(notifItem);
        }
      });

      // Append generated sections
      notifPopup.innerHTML = `
        <div class="popup-header">
          Notifications
          <span onclick="closeNotifPopup()">×</span>
        </div>
      `;
      notifPopup.appendChild(todaySection);
      notifPopup.appendChild(weekSection);
    }

    // Update notification when dropdown "Notifications" is clicked
    function openNotifFromDropdown(event) {
      event.preventDefault();
      document.getElementById('dropdownMenu').style.display = 'none';
      loadNotifications(); // ✅ NEW: Load fresh notifications
      document.getElementById('notifPopup').style.display = 'flex';
    }

    // Toggling dropdown logic stays the same
    function toggleDropdown() {
      const dropdown = document.getElementById('dropdownMenu');
      const notif = document.getElementById('notifPopup');
      notif.style.display = 'none';
      dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
    }

    function closeNotifPopup() {
      document.getElementById('notifPopup').style.display = 'none';
    }

    // Close all on outside click
    window.onclick = function (e) {
      if (!e.target.closest('.profile-container') && !e.target.closest('.notification-popup')) {
        document.getElementById('dropdownMenu').style.display = 'none';
        closeNotifPopup();
      }
    };

    function scrollToTop(event) {
      event.preventDefault();
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    }

    // Open modal
    function openModal() {
      document.getElementById("termsModal").style.display = "block";
    }

    // Close modal
    function closeModal() {
      document.getElementById("termsModal").style.display = "none";
    }

    // Close modal if clicking outside content
    window.onclick = function (event) {
      const modal = document.getElementById("termsModal");
      if (event.target == modal) {
        closeModal();
      }
    };


  </script>
    
</body>
</html>