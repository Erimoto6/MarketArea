<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Barangay Market Area: Complaint Details</title>
  <link rel="icon" type="image/png" href="logo.png">
  
  <style>
    html {
      scroll-behavior: smooth;
    }

    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      background-color: #f5f5f5;
    }

    header {
      position: sticky;
      top: 0;
      background-color: #2e3b0d;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 30px;
      z-index: 1000;
    }

    header img {
      height: 60px;
      margin-right: 13px;
    }

    header nav {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    header nav a {
      color: white;
      text-decoration: none;
      cursor: pointer;
    }

    .profile-container {
      position: relative;
    }

    .profile-circle {
      background: #ccc;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      cursor: pointer;
    }

    .dropdown-menu {
      display: none;
      position: absolute;
      right: 0;
      top: 38px;
      background-color: white;
      color: black;
      min-width: 140px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 10;
      border-radius: 4px;
    }

    .dropdown-menu a {
      color: black;
      padding: 10px;
      display: flex;
      align-items: center;
      text-decoration: none;
      gap: 5px;
    }

    .dropdown-menu a:hover {
      background-color: #f1f1f1;
    }

    .dropdown-menu a img {
      width: 20px;
      height: 20px;
    }

    .main-content {
      padding: 30px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .back-button {
      background-color: #2e3b0d;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 20px;
      text-decoration: none;
      display: inline-block;
    }

    .back-button:hover {
      background-color: #1a2408;
    }

    .complaint-details {
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .complaint-header {
      background-color: #2e3b0d;
      color: white;
      padding: 20px;
      text-align: center;
    }

    .complaint-header h1 {
      margin: 0;
      font-size: 28px;
    }

    .complaint-id {
      font-size: 18px;
      margin-top: 10px;
      opacity: 0.9;
    }

    .complaint-body {
      padding: 30px;
    }

    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }

    .info-section {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid #2e3b0d;
    }

    .info-section h3 {
      margin: 0 0 15px 0;
      color: #2e3b0d;
      font-size: 18px;
    }

    .info-item {
      margin-bottom: 10px;
      display: flex;
      flex-wrap: wrap;
    }

    .info-label {
      font-weight: bold;
      min-width: 120px;
      color: #333;
    }

    .info-value {
      color: #666;
      flex: 1;
    }

    .description-section {
      margin: 30px 0;
    }

    .description-section h3 {
      color: #2e3b0d;
      margin-bottom: 15px;
    }

    .description-box {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #ddd;
      min-height: 100px;
    }

    .evidence-section {
      margin: 30px 0;
    }

    .evidence-section h3 {
      color: #2e3b0d;
      margin-bottom: 15px;
    }

    .evidence-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .evidence-item {
      background: #f0f0f0;
      border: 2px dashed #ccc;
      border-radius: 8px;
      padding: 20px;
      text-align: center;
      min-height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
    }

    .witness-section {
      margin: 30px 0;
    }

    .witness-section h3 {
      color: #2e3b0d;
      margin-bottom: 15px;
    }

    .witness-info {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .action-section {
      background: #f0f8ff;
      padding: 30px;
      border-top: 3px solid #2e3b0d;
      margin-top: 30px;
    }

    .action-section h3 {
      color: #2e3b0d;
      margin-bottom: 20px;
      text-align: center;
    }

    .appointment-form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .form-group label {
      font-weight: bold;
      margin-bottom: 5px;
      color: #333;
    }

    .form-group input,
    .form-group select {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 16px;
    }

    .action-buttons {
      display: flex;
      gap: 20px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 30px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .btn-accept {
      background-color: #28a745;
      color: white;
    }

    .btn-accept:hover {
      background-color: #218838;
    }

    .btn-deny {
      background-color: #dc3545;
      color: white;
    }

    .btn-deny:hover {
      background-color: #c82333;
    }

    .status-badge {
      display: inline-block;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
      text-transform: uppercase;
    }

    .status-new {
      background-color: #ffc107;
      color: #212529;
    }

    .status-progress {
      background-color: #007bff;
      color: white;
    }

    .status-resolved {
      background-color: #28a745;
      color: white;
    }

    /* Footer */
    footer {
      background-color: #333;
      color: white;
      display: flex;
      justify-content: space-between;
      padding: 20px 30px;
      font-size: 0.9rem;
      flex-wrap: wrap;
      margin-top: 50px;
    }

    footer .leftside {
      display: flex;
      flex-direction: row;
      align-items: center;
      max-width: 500px;
      margin-top: 10px;
    }

    footer img {
      margin-right: 25px;
      margin-left: 10px;
      height: 100px;
    }

    footer .footer-section1 {
      max-width: 200px;
      margin-right: 0;
    }

    footer .footer-section2 {
      max-width: 200px;
      margin-right: 100px;
    }
    
    footer h4 {
      margin-bottom: 10px;
    }

    footer ul {
      list-style: none;
      padding: 0;
    }

    footer ul li {
      margin-bottom: 8px;
    }

    footer ul li a {
      color: white;
      text-decoration: none;
    }

    /* Notification Popup */
    .notification-popup {
      position: fixed;
      top: 80px;
      right: 30px;
      width: 320px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
      z-index: 999;
      display: none;
      flex-direction: column;
      max-height: 400px;
      overflow-y: auto;
    }

    .notification-popup .popup-header {
      background: #2e3b0d;
      color: white;
      padding: 12px 16px;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .notification-popup .popup-header span {
      cursor: pointer;
      font-size: 18px;
    }

    .notification-popup .popup-section {
      padding: 10px 16px;
    }

    .notification-popup .popup-section h5 {
      margin: 10px 0 5px;
      font-size: 14px;
      color: #888;
    }

    .notification-popup .notif-item {
      padding: 8px 0;
      border-bottom: 1px solid #eee;
      font-size: 14px;
      cursor: pointer;
      color: #2e3b0d;
    }

    .notification-popup .notif-item:last-child {
      border-bottom: none;
    }

    .notification-popup .notif-item:hover {
      background-color: #f8f8f8;
    }

    /* Terms and Conditions Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 999;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.6);
      margin-top: 50px;
    }

    .modal-content {
      background-color: #fff;
      margin: 5% auto;
      padding: 0;
      border-radius: 10px;
      width: 80%;
      max-width: 600px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      box-sizing: border-box;
    }

    .modal-scrollable {
        padding: 5px 20px;
        max-height: 70vh;
        overflow-y: auto;
        overflow-x: hidden;
        position: relative;
    }

    .modal-scrollable h2 {
      text-align: center;
      color: #4B5320;
      margin-top: 0px;
    }

    .modal-scrollable h3 {
      color: #BF8C00;
      margin-top: 1em;
    }

    .close {
        display: block;
        text-align: right;
        margin-right: 10px;
        margin-top: 0px;
        font-size: 24px;
        font-weight: bold;
        color: #aaa;
        cursor: pointer;
    }

    .close:hover {
        color: black;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-content {
        padding: 15px;
      }

      .info-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .appointment-form {
        grid-template-columns: 1fr;
      }

      .action-buttons {
        flex-direction: column;
        align-items: center;
      }

      .btn {
        width: 100%;
        max-width: 300px;
      }

      header {
        padding: 10px 15px;
      }

      header nav {
        gap: 10px;
      }

      footer {
        flex-direction: column;
        gap: 20px;
      }

      footer .leftside {
        flex-direction: column;
        text-align: center;
      }

      footer img {
        margin: 0 0 15px 0;
      }
    }

    @media (max-width: 480px) {
      .complaint-header h1 {
        font-size: 24px;
      }

      .complaint-id {
        font-size: 16px;
      }

      .complaint-body {
        padding: 20px;
      }

      .action-section {
        padding: 20px;
      }

      .evidence-grid {
        grid-template-columns: 1fr;
      }

      .info-item {
        flex-direction: column;
      }

      .info-label {
        min-width: auto;
        margin-bottom: 5px;
      }
    }

  </style>
</head>

<body>
  <header>
    <div style="display: flex; align-items: center;">
      <img src="files/logo.png" alt="Barangay Logo">
      <div style="margin-left: 10px;">
        <div><strong>Barangay Market Area:</strong></div>
        <div>Complaint System</div>
      </div>
    </div>

    <nav>
      <a href="staffHomepage.html">Home</a>
      <a href="manageComplaints.html">Manage Complaints</a>
      <a href="quickMetric.html">Quick Metrics</a>
      <div class="profile-container">
        <div class="profile-circle" onclick="toggleDropdown()"></div>
        <div class="dropdown-menu" id="dropdownMenu">
          <a href="staffProf.html"><img src="files/profile.png" alt="Profile Icon" style="width: 20px; height: 20px;">Profile</a>
          <a href="#" onclick="openNotifFromDropdown(event)"><img src="files/notif.png" alt="Notifications Icon">Notifications</a>
          <a href="settings.html"><img src="files/settings.png" alt="Settings Icon" style="width: 20px; height: 20px;">Settings</a>
          <a href="staffLogin.html"><img src="files/logout.png" alt="Logout Icon" style="width: 20px; height: 20px;">Logout</a>
        </div>
      </div>
    </nav>
  </header>

  <main class="main-content">
    <a href="manageComplaints.html" class="back-button">← Back to Complaints</a>
    
    <div class="complaint-details">
      <div class="complaint-header">
        <h1>Complaint Details</h1>
        <div class="complaint-id">Complaint ID: #00001</div>
        <div style="margin-top: 10px;">
          <span class="status-badge status-new" id="statusBadge">New</span>
        </div>
      </div>

      <div class="complaint-body">
        <div class="info-grid">
          <div class="info-section">
            <h3>Personal Information</h3>
            <div class="info-item">
              <span class="info-label">Name:</span>
              <span class="info-value" id="complainantName">Juan De Luna</span>
            </div>
            <div class="info-item">
              <span class="info-label">Age:</span>
              <span class="info-value" id="complainantAge">31</span>
            </div>
            <div class="info-item">
              <span class="info-label">Gender:</span>
              <span class="info-value" id="complainantGender">Male</span>
            </div>
            <div class="info-item">
              <span class="info-label">Address:</span>
              <span class="info-value" id="complainantAddress">blablabla</span>
            </div>
            <div class="info-item">
              <span class="info-label">Contact:</span>
              <span class="info-value" id="complainantContact">09178920304</span>
            </div>
            <div class="info-item">
              <span class="info-label">Email:</span>
              <span class="info-value" id="complainantEmail">juandeluna@gmail.com</span>
            </div>
          </div>

          <div class="info-section">
            <h3>Complaint Information</h3>
            <div class="info-item">
              <span class="info-label">Date Filed:</span>
              <span class="info-value" id="dateFiled">03/03/25</span>
            </div>
            <div class="info-item">
              <span class="info-label">Type:</span>
              <span class="info-value" id="complaintType">Noise</span>
            </div>
            <div class="info-item">
              <span class="info-label">Date of Incident:</span>
              <span class="info-value" id="incidentDate">03/02/25</span>
            </div>
            <div class="info-item">
              <span class="info-label">Time of Incident:</span>
              <span class="info-value" id="incidentTime">2:00am</span>
            </div>
            <div class="info-item">
              <span class="info-label">Location:</span>
              <span class="info-value" id="incidentLocation">rawr street, abc</span>
            </div>
          </div>
        </div>

        <div class="description-section">
          <h3>Description of Incident</h3>
          <div class="description-box" id="complaintDescription">
            The neighbors have been playing loud music and making excessive noise during late hours, specifically around 2:00 AM. This has been disturbing the peace and quiet of the neighborhood, making it difficult for residents to sleep. The noise includes loud music, shouting, and banging sounds that can be heard from several houses away. This incident has occurred multiple times over the past week, and we request immediate intervention to resolve this matter.
          </div>
        </div>

        <div class="evidence-section">
          <h3>Photo, Video, or Screenshot Evidence</h3>
          <div class="evidence-grid">
            <div class="evidence-item">
              <span>📷 Photo Evidence 1<br><small>noise_complaint_photo1.jpg</small></span>
            </div>
            <div class="evidence-item">
              <span>📷 Photo Evidence 2<br><small>noise_complaint_photo2.jpg</small></span>
            </div>
            <div class="evidence-item">
              <span>🎥 Video Evidence<br><small>noise_complaint_video.mp4</small></span>
            </div>
          </div>
        </div>

        <div class="witness-section">
          <h3>Witness Details (Optional)</h3>
          <div class="witness-info">
            <div class="info-item">
              <span class="info-label">Name:</span>
              <span class="info-value" id="witnessName">Maria Santos</span>
            </div>
            <div class="info-item">
              <span class="info-label">Contact:</span>
              <span class="info-value" id="witnessContact">09123456789</span>
            </div>
          </div>
        </div>

        <div class="action-section">
          <h3>Staff Action Required</h3>
          <div class="appointment-form">
            <div class="form-group">
              <label for="appointmentDate">Schedule of Appointment - Date:</label>
              <input type="date" id="appointmentDate" name="appointmentDate">
            </div>
            <div class="form-group">
              <label for="appointmentTime">Schedule of Appointment - Time:</label>
              <input type="time" id="appointmentTime" name="appointmentTime">
            </div>
            <div class="form-group">
              <label for="assignedStaff">Assigned to (Staff Name):</label>
              <select id="assignedStaff" name="assignedStaff">
                <option value="">Select Staff Member</option>
                <option value="John Doe">John Doe</option>
                <option value="Jane Smith">Jane Smith</option>
                <option value="Mike Johnson">Mike Johnson</option>
                <option value="Sarah Wilson">Sarah Wilson</option>
                <option value="Robert Brown">Robert Brown</option>
              </select>
            </div>
          </div>
          
          <div class="action-buttons">
            <button class="btn btn-accept" onclick="acceptComplaint()">Accept Complaint</button>
            <button class="btn btn-deny" onclick="denyComplaint()">Deny Complaint</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-section">
      <div class="leftside">
        <img src="files/logo.png" alt="Barangay Logo" />
        <p>
          The Market Area of Sta. Rosa, Laguna is a bustling center of commerce and community activity. Known for its
          public market, transport terminals, and small businesses, it serves as a vital hub for daily essentials,
          local trade, and public services—connecting residents from different barangays across the city.
        </p>
      </div>
    </div>
    <div class="footer-section1">
      <h4>Quick Menu</h4>
      <ul>
        <li><a href="staffHomepage.html">Home</a></li>
        <li><a href="manageComplaints.html">Manage Complaints</a></li>
        <li><a href="quickMetric.html">Quick Metrics</a></li>
      </ul>
    </div>
    <div class="footer-section2">
      <h4>Govt. Info</h4>
      <ul>
        <li><a href="PrivacyPolicy.html">Privacy Policy</a></li>
        <li><a href="#" class="termsCondi" onclick="openModal()">Terms & Conditions</a></li>
        <li><a href="#">FAQ</a></li>
      </ul>
    </div>
  </footer>

  <!-- Notification Popup -->
  <div id="notifPopup" class="notification-popup">
    <div class="popup-header">
      Notifications
      <span onclick="closeNotifPopup()">×</span>
    </div>
    <div class="popup-section">
      <h5>Today</h5>
      <div class="notif-item" onclick="alert('Go to complaint #001')">Juan dela Cruz submitted a noise complaint.</div>
      <div class="notif-item" onclick="alert('Go to resolved complaint #002')">A case was marked as resolved.</div>
    </div>
    <div class="popup-section">
      <h5>This Week</h5>
      <div class="notif-item" onclick="alert('Go to garbage complaint #003')">Garbage issue updated by staff.</div>
      <div class="notif-item" onclick="alert('Go to water complaint #004')">Water leak concern reopened.</div>
    </div>
  </div>

  <!-- Terms and Conditions Modal -->
  <div id="termsModal" class="modal">
    <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
      <div class="modal-scrollable">
        <h2>Terms and Conditions</h2>
        <p>Welcome to the Barangay E-Blotter System. By accessing or using this system, you agree to comply with and be bound by the following terms and conditions. Please read them carefully.</p>

        <h3>1. Use of the System</h3>
        <ul>
          <li>The E-Blotter System is intended for residents to file and track complaints within the barangay.</li>
          <li>You must provide accurate and complete information when submitting a complaint.</li>
          <li>Misuse of the system, including submitting false or malicious complaints, is strictly prohibited.</li>
        </ul>

        <h3>2. Privacy and Confidentiality</h3>
        <ul>
          <li>All personal information submitted will be kept confidential and used only for resolving complaints.</li>
          <li>Only authorized barangay personnel have access to complaint details.</li>
        </ul>

        <h3>3. User Responsibilities</h3>
        <ul>
          <li>You are responsible for the accuracy of the information you provide.</li>
          <li>You must not use the system for unlawful purposes or to harass others.</li>
        </ul>

        <h3>4. System Availability</h3>
        <ul>
          <li>The barangay strives to keep the system available at all times but does not guarantee uninterrupted access.</li>
          <li>Maintenance or technical issues may cause temporary downtime.</li>
        </ul>

        <h3>5. Changes to Terms</h3>
        <ul>
          <li>The barangay reserves the right to update these terms at any time. Changes will be posted on this page.</li>
        </ul>

        <h3>6. Contact</h3>
        <p>For questions or concerns, contact the Barangay Office at (012) 345-6789 or email <a href="mailto:barangayeblotter@email.com">barangayeblotter@email.com</a>.</p>
      </div>
    </div>
  </div>
  
  <script>
    // Mock complaint data - this would normally come from URL parameters or database
    const complaintData = {
      id: "00001",
      complainantName: "Juan De Luna",
      complainantAge: "31",
      complainantGender: "Male",
      complainantAddress: "blablabla",
      complainantContact: "09178920304",
      complainantEmail: "juandeluna@gmail.com",
      dateFiled: "03/03/25",
      complaintType: "Noise",
      incidentDate: "03/02/25",
      incidentTime: "2:00am",
      incidentLocation: "rawr street, abc",
      description: "The neighbors have been playing loud music and making excessive noise during late hours, specifically around 2:00 AM. This has been disturbing the peace and quiet of the neighborhood, making it difficult for residents to sleep. The noise includes loud music, shouting, and banging sounds that can be heard from several houses away. This incident has occurred multiple times over the past week, and we request immediate intervention to resolve this matter.",
      witnessName: "Maria Santos",
      witnessContact: "09123456789",
      status: "New"
    };

    // Function to load complaint data
    function loadComplaintData() {
      // You can modify this to get data from URL parameters or localStorage
      const urlParams = new URLSearchParams(window.location.search);
      const complaintId = urlParams.get('id') || '00001';
      
      // Load data into the page
      document.getElementById('complainantName').textContent = complaintData.complainantName;
      document.getElementById('complainantAge').textContent = complaintData.complainantAge;
      document.getElementById('complainantGender').textContent = complaintData.complainantGender;
      document.getElementById('complainantAddress').textContent = complaintData.complainantAddress;
      document.getElementById('complainantContact').textContent = complaintData.complainantContact;
      document.getElementById('complainantEmail').textContent = complaintData.complainantEmail;
      document.getElementById('dateFiled').textContent = complaintData.dateFiled;
      document.getElementById('complaintType').textContent = complaintData.complaintType;
      document.getElementById('incidentDate').textContent = complaintData.incidentDate;
      document.getElementById('incidentTime').textContent = complaintData.incidentTime;
      document.getElementById('incidentLocation').textContent = complaintData.incidentLocation;
      document.getElementById('complaintDescription').textContent = complaintData.description;
      document.getElementById('witnessName').textContent = complaintData.witnessName;
      document.getElementById('witnessContact').textContent = complaintData.witnessContact;
      
      // Update status badge
      const statusBadge = document.getElementById('statusBadge');
      statusBadge.textContent = complaintData.status;
      statusBadge.className = `status-badge status-${complaintData.status.toLowerCase().replace(' ', '-')}`;
    }

    // Accept complaint function
    function acceptComplaint() {
      const appointmentDate = document.getElementById('appointmentDate').value;
      const appointmentTime = document.getElementById('appointmentTime').value;
      const assignedStaff = document.getElementById('assignedStaff').value;

      if (!appointmentDate || !appointmentTime || !assignedStaff) {
        alert('Please fill in all required fields: Date, Time, and Assigned Staff');
        return;