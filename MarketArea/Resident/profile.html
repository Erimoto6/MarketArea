<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Profile - Barangay Market Area</title>
  <link rel="stylesheet" href="profile.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
  <!-- HEADER SECTION -->
		<header class="header_gradient">
  			<div class="header-left">
    			<img class="market-area-logo" src="logo.png" alt="Logo" />
    			<div class="barangay-title">
      			<p class="barangay-market-area">Barangay Market Area:<br>E-Blotter System</p>
    			</div>
  			</div>

  			<div class="navbar">
  				<div class="nav-links">
    				<a href="residentHomepage.html">Home</a>
    				<a href="my_complaints.html">My Complaints</a>
    				<a href="contact.html">Contacts</a>
  				</div>

  			<!-- Profile + Sidebar Wrapper -->
			<div class="profile-sidebar-wrapper">
  			<!-- Profile Trigger -->
  			<div class="profile-link" id="profileTrigger">
    			<div class="profile"></div>
  			</div>

  			<!-- Collapsible Sidebar -->
  			<div class="sidebar collapsed" id="profileSidebar">
				<a href="profile.html" class="sidebar-item">
      				<i class="icon">üë§</i>
      				<span class="label">Profile</span>
    			</a>
    			<a href="#" class="sidebar-item">
      				<i class="icon">‚öôÔ∏è</i>
      				<span class="label">Settings</span>
				</a>
    			<a href="accounts_security.html" class="sidebar-item">
      				<i class="icon">üîê</i>
      				<span class="label">Account & Security</span>
				</a>
    			<a href="residentLogin.html" class="sidebar-item" id="logout-btn">
  					<i class="icon">‚èª</i>
  					<span class="label">Logout</span>
				</a>
  			</div>
		</div>
	</div>
</header>

<section class="page-container">
  <div class="profile-container">
    <div class="sidebar_body">
      <div class="profile-pic">
        <label for="profileUpload">
            <div class="circle-img" id="profilePreview"></div>
            <div class="camera-icon">üì∑</div>
        </label>
            <input type="file" id="profileUpload" accept="image/*" style="display: none;">
      </div>
      <div class="sidebar-links active">
        <span>üë§</span> Personal Information
      </div>
    </div>

    <div class="profile-form">
      <h2>Personal Information</h2>
      <form>
        <div class="form-row">
          <input type="text" placeholder="First Name">
          <input type="text" placeholder="Last Name">
        </div>
        <input type="email" placeholder="Email Address">
        <input type="text" placeholder="Address">
        <div class="form-row">
          <input type="text" placeholder="Contact Number">
          <input type="date" placeholder="Date of Birth">
        </div>
        <div class="form-buttons">
          <button type="button" class="discard-btn">Discard changes</button>
          <button type="submit" class="save-btn">Save changes</button>
        </div>
      </form>
    </div>
  </div>
</section>

  <!--FOOTER SECTION-->
		<footer class="footer">
            <div class="footer-left">
                <img class="market-area-logo2" src="logo.png" alt="Barangay Logo" />
                <p class="a-barangay-that">
                    A Barangay that is God-centered, united, service-oriented, inclusive, and responsive ‚Äî guided by faith, integrity, and accountable governance.
                </p>
            </div>

            <div class="footer-right-group">
                <div class="footer-middle">
                    <h4 class="footer-heading">Other Services</h4>
                    <p class="footer-link">Insert Site</p>
                    <p class="footer-link">Insert Site</p>
                    <p class="footer-link">Insert Site</p>
                </div>

            <div class="footer-right">
                <h4 class="footer-heading">Gov't Info</h4>
                <p class="footer-link">Privacy Policy</p>
                <p class="footer-link"><a href="#" id="footer-terms-link">Terms & Conditions</a></p>
                <p class="footer-link">FAQ</p>
            </div>
            </div>
            </footer>

<script>
    //settings
  const profileTrigger = document.getElementById('profileTrigger');
  const sidebar = document.getElementById('profileSidebar');

  profileTrigger.addEventListener('click', (e) => {
    e.preventDefault(); // prevent anchor from navigating
    sidebar.classList.toggle('show');
  });

  document.addEventListener('click', function (e) {
    const wrapper = document.querySelector('.profile-sidebar-wrapper');
    if (!wrapper.contains(e.target)) {
      sidebar.classList.remove('show');
    }
  });

  document.getElementById('logout-btn').addEventListener('click', function (e) {
    e.preventDefault(); // Stop the default navigation

    if (confirm("Are you sure you want to log out?")) {
      // Proceed to logout if confirmed
      window.location.href = this.href;
    }
  });

  //profile pic

  const fileInput = document.getElementById('profileUpload');
  const preview = document.getElementById('profilePreview');

  fileInput.addEventListener('change', function () {
    const file = this.files[0];
    if (file && file.type.startsWith('image/')) {
      const reader = new FileReader();
      reader.onload = function (e) {
        preview.style.backgroundImage = `url('${e.target.result}')`;
        preview.style.backgroundSize = 'cover';
        preview.style.backgroundPosition = 'center';
      };
      reader.readAsDataURL(file);
    }
  });

</script>

</body>
</html>
